{"title":"Vue3å¼‚æ­¥ç»„ä»¶çš„åŸç†","uid":"83828ee736bf235d7180bde42e5f781a","slug":"Vueå¼‚æ­¥ç»„ä»¶é€»è¾‘","date":"2022-04-01T12:15:39.521Z","updated":"2022-04-02T03:34:41.741Z","comments":true,"path":"api/articles/Vueå¼‚æ­¥ç»„ä»¶é€»è¾‘.json","keywords":null,"cover":"https://images.unsplash.com/photo-1548802673-380ab8ebc7b7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mjd8fGFuaW1hbCUyMGxvdmV8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60","content":"<p><a href=\"https://cn.vuejs.org/v2/guide/components-dynamic-async.html#%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6\">é¦–å…ˆè¯·å‚è€ƒVueå¼‚æ­¥ç»„ä»¶çš„ç”¨æ³•</a></p>\n<h2 id=\"1-ç”¨ä¾‹åˆ†æ\"><a href=\"#1-ç”¨ä¾‹åˆ†æ\" class=\"headerlink\" title=\"1.ç”¨ä¾‹åˆ†æ\"></a>1.ç”¨ä¾‹åˆ†æ</h2><p>æ­¤å¤„å†™ä¸€ä¸ªVueå¼‚æ­¥ç»„ä»¶çš„ä¾‹å­ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'async-example'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// å‘ `resolve` å›è°ƒä¼ é€’ç»„ä»¶å®šä¹‰</span>\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">'&lt;div>I am async!&lt;/div>'</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>å¯è§æ­¤å¤„ä¼ å…¥äº†ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ç»„ä»¶çš„åå­—ï¼Œä¸€ä¸ªæ˜¯å·¥å‚å‡½æ•°ï¼Œå·¥å‚å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼ˆresolveï¼Œ rejectï¼‰ï¼Œå·¥å‚å‡½æ•°ä¼šæ”¶åˆ°ä¸€ä¸ª<code>resolve</code>å›è°ƒï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨ä½ ä»æœåŠ¡å™¨å¾—åˆ°ç»„ä»¶å®šä¹‰çš„æ—¶å€™è¢«è°ƒç”¨ã€‚ä¹Ÿå¯ä»¥è°ƒç”¨<code>reject(reason)</code>æ¥è¡¨ç¤ºåŠ è½½å¤±è´¥ã€‚<br>ä¸æƒ³è¿™ä¸ªå¼‚æ­¥ç»„ä»¶å®ç°çš„å…·ä½“çš„é€»è¾‘ï¼Œå…ˆè€ƒè™‘ä¸€ä¸‹å¤§æ–¹å‘ï¼š</p>\n<p>1.æ€ä¹ˆåˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥ç»„ä»¶</p>\n<p>2.åœ¨ç¡®å®šæ˜¯å¼‚æ­¥ç»„ä»¶ä»¥åï¼Œè¦è°ƒç”¨å¼‚æ­¥å‡½æ•°æ¥æ¸²æŸ“å’Œç”Ÿæˆç»„ä»¶å¹¶å°†ç»“æœä¿å­˜ï¼Œå¹¶åˆ›å»ºå¼‚æ­¥ç»„ä»¶çš„å ä½ç¬¦</p>\n<p>3.å¼‚æ­¥å‡½æ•°è¿è¡Œå®Œä»¥åï¼Œé€šè¿‡watcheræ¥è¿›è¡Œç»„ä»¶æ›´æ–°</p>\n<h2 id=\"2-å…·ä½“é€»è¾‘è§£é‡Š\"><a href=\"#2-å…·ä½“é€»è¾‘è§£é‡Š\" class=\"headerlink\" title=\"2.å…·ä½“é€»è¾‘è§£é‡Š\"></a>2.å…·ä½“é€»è¾‘è§£é‡Š</h2><p>å¦‚æœä¸æ˜¯htmlæ ‡ç­¾ï¼Œéƒ½ä¼šè¿›å…¥åˆ°createComponentå‡½æ•°ä¸­æ¥åˆ›å»ºVNodeèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå¼‚æ­¥ç»„ä»¶è‚¯å®šä¼šè¿›å…¥åˆ°è¯¥å‡½æ•°ä¸­ï¼Œè¯¥å‡½æ•°åšä¸‰ä»¶äº‹æƒ…</p>\n<p>1ï¼‰åˆ¤æ–­ç»„ä»¶å‡½æ•°ï¼Œç„¶åè¿›å…¥ä¸åŒçš„å‡½æ•°æ¥è¿›è¡Œç›¸åº”çš„é€»è¾‘å¤„ç†ï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯å¯¹è±¡ï¼Œåˆ™é€šè¿‡Ctor = baseCtor.extend(Ctor)æ„é€ å­ç±»æ„é€ å‡½æ•°ï¼Œå¦‚æœæ˜¯å‡½æ•°ï¼Œè¯´æ˜ä¼ å…¥çš„æ˜¯å¼‚æ­¥ç»„ä»¶ï¼Œåˆ™è¿›å…¥åˆ°resolveAsyncComponentå‡½æ•°ä¸­</p>\n<p>2ï¼‰å®‰è£…ç»„ä»¶çš„é’©å­å‡½æ•°</p>\n<p>3ï¼‰é€šè¿‡ä»¥ä¸Šå‡½æ•°å®Œæˆç›¸åº”ç»„ä»¶çš„é…ç½®ï¼Œä»è€Œæ ¹æ®è¿™äº›é…ç½®æ¥å®ä¾‹åŒ–VNodeèŠ‚ç‚¹</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">createComponent</span><span class=\"token punctuation\">(</span>\n        <span class=\"token parameter\">Ctor<span class=\"token punctuation\">,</span>\n        data<span class=\"token punctuation\">,</span>\n        context<span class=\"token punctuation\">,</span>\n        children<span class=\"token punctuation\">,</span>\n        tag</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isUndef</span><span class=\"token punctuation\">(</span>Ctor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">var</span> baseCtor <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span>$options<span class=\"token punctuation\">.</span>_base<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// è‡ªå®šä¹‰ç»„ä»¶(å¼‚æ­¥ç»„ä»¶é™¤å¤–)å‡ä¼šä¼ å…¥ä¸€ä¸ªå¯¹è±¡</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isObject</span><span class=\"token punctuation\">(</span>Ctor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// æ„é€ å­ç±»æ„é€ å‡½æ•°</span>\n            Ctor <span class=\"token operator\">=</span> baseCtor<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>Ctor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token comment\">// å¦‚æœæ—¢ä¸æ˜¯å¯¹è±¡ä¹Ÿä¸æ˜¯å‡½æ•° åˆ™ç»™å‡º\"æ— æ•ˆç»„ä»¶\"çš„æç¤º</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> Ctor <span class=\"token operator\">!==</span> <span class=\"token string\">'function'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Invalid Component definition: \"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token function\">String</span><span class=\"token punctuation\">(</span>Ctor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token keyword\">return</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">var</span> asyncFactory<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// é€šè¿‡cidå±æ€§æ˜¯å¦æœªå®šä¹‰æ¥åˆ¤æ–­æ˜¯å¦ä¸ºå¼‚æ­¥ç»„ä»¶</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isUndef</span><span class=\"token punctuation\">(</span>Ctor<span class=\"token punctuation\">.</span>cid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            asyncFactory <span class=\"token operator\">=</span> Ctor<span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// æ­£å¼è¿›å…¥å¤„ç†å¼‚æ­¥ç»„ä»¶çš„å‡½æ•°</span>\n            Ctor <span class=\"token operator\">=</span> <span class=\"token function\">resolveAsyncComponent</span><span class=\"token punctuation\">(</span>asyncFactory<span class=\"token punctuation\">,</span> baseCtor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Ctor <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// åˆ›å»ºå¼‚æ­¥ç»„ä»¶çš„å ä½ç¬¦</span>\n                <span class=\"token keyword\">return</span> <span class=\"token function\">createAsyncPlaceholder</span><span class=\"token punctuation\">(</span>\n                    asyncFactory<span class=\"token punctuation\">,</span>\n                    data<span class=\"token punctuation\">,</span>\n                    context<span class=\"token punctuation\">,</span>\n                    children<span class=\"token punctuation\">,</span>\n                    tag\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token comment\">// å®‰è£…ç»„ä»¶çš„é’©å­å‡½æ•°</span>\n        <span class=\"token function\">installComponentHooks</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// return a placeholder vnode</span>\n        <span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> Ctor<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>name <span class=\"token operator\">||</span> tag<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// åˆ›å»ºVNodeèŠ‚ç‚¹</span>\n        <span class=\"token keyword\">var</span> vnode <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VNode</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token string\">\"vue-component-\"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>Ctor<span class=\"token punctuation\">.</span>cid<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"-\"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            data<span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">Ctor</span><span class=\"token operator\">:</span> Ctor<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">propsData</span><span class=\"token operator\">:</span> propsData<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">listeners</span><span class=\"token operator\">:</span> listeners<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">tag</span><span class=\"token operator\">:</span> tag<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> children <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n            asyncFactory\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> vnode\n    <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>ç”±äºæ­¤å¤„é‡ç‚¹è®²è§£å¼‚æ­¥ç»„ä»¶çš„é€»è¾‘ï¼Œé‚£ä¹ˆå°±é‡ç‚¹çœ‹ä¸‹resolveAsyncComponentçš„é€»è¾‘ï¼Œ</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">resolveAsyncComponent</span><span class=\"token punctuation\">(</span>\n        <span class=\"token parameter\">factory<span class=\"token punctuation\">,</span>\n        baseCtor</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isTrue</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">isDef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>errorComp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> factory<span class=\"token punctuation\">.</span>errorComp\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isDef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>resolved<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n         <span class=\"token comment\">// æ­¤æ—¶è¿”å›ç¼“å­˜çš„ç»„ä»¶</span>\n            <span class=\"token keyword\">return</span> factory<span class=\"token punctuation\">.</span>resolved\n        <span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>owner <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isDef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>owners<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">var</span> owners <span class=\"token operator\">=</span> factory<span class=\"token punctuation\">.</span>owners <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>owner<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> sync <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> timerLoading <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> timerTimeout <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n                <span class=\"token punctuation\">;</span> <span class=\"token punctuation\">(</span>owner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">$on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hook:destroyed'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">return</span> <span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>owners<span class=\"token punctuation\">,</span> owner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">forceRender</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">renderCompleted</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> l <span class=\"token operator\">=</span> owners<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> l<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                 <span class=\"token comment\">// è§¦å‘ç»„ä»¶å¼ºåˆ¶æ›´æ–°çš„å‡½æ•°</span>\n                    <span class=\"token punctuation\">(</span>owners<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">$forceUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ä¿è¯resolveå‡½æ•°åªè¿è¡Œä¸€æ¬¡</span>\n<span class=\"token keyword\">var</span> resolve <span class=\"token operator\">=</span> <span class=\"token function\">once</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n<span class=\"token comment\">// åˆ›å»ºå¼‚æ­¥ç»„ä»¶å¹¶ä¿å­˜åœ¨resolvedä¸­</span>\nfactory<span class=\"token punctuation\">.</span>resolved <span class=\"token operator\">=</span> <span class=\"token function\">ensureCtor</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> baseCtor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// å¦‚æœä¸æ˜¯åŒæ­¥çš„ï¼Œåˆ™è¿›è¡Œå¼ºåˆ¶æ›´æ–° </span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>sync<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token function\">forceRender</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n                    owners<span class=\"token punctuation\">.</span>length <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token comment\">// ä¿è¯rejectå‡½æ•°åªè¿è¡Œä¸€æ¬¡</span>\n            <span class=\"token keyword\">var</span> reject <span class=\"token operator\">=</span> <span class=\"token function\">once</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">reason</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token function\">warn</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token string\">\"Failed to resolve async component: \"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token function\">String</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n                    <span class=\"token punctuation\">(</span>reason <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nReason: \"</span> <span class=\"token operator\">+</span> reason<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\">// å¦‚æœæ¸²æŸ“é”™è¯¯åˆ‡å®šä¹‰äº†åŠ è½½å¤±è´¥çš„ç»„ä»¶ï¼Œåˆ™æ˜¾ç¤ºé”™è¯¯</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isDef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>errorComp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    factory<span class=\"token punctuation\">.</span>error <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token function\">forceRender</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">//æ‰§è¡Œå·¥å‚å‡½æ•°(å¼‚æ­¥å‡½æ•°)</span>\n            <span class=\"token keyword\">var</span> res <span class=\"token operator\">=</span> <span class=\"token function\">factory</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isObject</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// å¦‚æœå‡½æ•°è¿”å›çš„ç»“æœä¸ºä¸€ä¸ªpromiseå¯¹è±¡</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isPromise</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token comment\">// () => Promise</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isUndef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>resolved<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                     <span class=\"token comment\">// å¦‚æœåŠ è½½æˆåŠŸè¿è¡Œå®šä¹‰çš„resolveå‡½æ•°</span>\n                        res<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token punctuation\">&#125;</span> \n            <span class=\"token punctuation\">&#125;</span>\n            sync <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// return in case resolved synchronously</span>\n            <span class=\"token keyword\">return</span> factory<span class=\"token punctuation\">.</span>loading\n                <span class=\"token operator\">?</span> factory<span class=\"token punctuation\">.</span>loadingComp\n                <span class=\"token operator\">:</span> factory<span class=\"token punctuation\">.</span>resolved\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>å¯è§ä»¥ä¸Šå†™æ³•çš„é€»è¾‘å·²ç»æ¢³ç†å®Œæ¯•äº†ï¼Œä½†æ˜¯è¿˜æœ‰é«˜çº§å¼‚æ­¥ç»„ä»¶çš„å†™æ³•å¦‚ä¸‹:</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AsyncComponent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">// éœ€è¦åŠ è½½çš„ç»„ä»¶ (åº”è¯¥æ˜¯ä¸€ä¸ª `Promise` å¯¹è±¡)</span>\n  <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./MyComponent.vue'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// å¼‚æ­¥ç»„ä»¶åŠ è½½æ—¶ä½¿ç”¨çš„ç»„ä»¶</span>\n  <span class=\"token literal-property property\">loading</span><span class=\"token operator\">:</span> LoadingComponent<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶</span>\n  <span class=\"token literal-property property\">error</span><span class=\"token operator\">:</span> ErrorComponent<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// å±•ç¤ºåŠ è½½æ—¶ç»„ä»¶çš„å»¶æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯ 200 (æ¯«ç§’)</span>\n  <span class=\"token literal-property property\">delay</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// å¦‚æœæä¾›äº†è¶…æ—¶æ—¶é—´ä¸”ç»„ä»¶åŠ è½½ä¹Ÿè¶…æ—¶äº†ï¼Œ</span>\n  <span class=\"token comment\">// åˆ™ä½¿ç”¨åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ã€‚é»˜è®¤å€¼æ˜¯ï¼š`Infinity`</span>\n  <span class=\"token literal-property property\">timeout</span><span class=\"token operator\">:</span> <span class=\"token number\">3000</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>å¯ä»¥çœ‹åˆ°å¤šäº†å¾ˆå¤šé…ç½®æ¡ä»¶ï¼Œå¯ä»¥åœ¨å¼‚æ­¥çš„ä¸åŒçŠ¶æ€ä¸‹åˆ†åˆ«åŠ è½½ä¸åŒçš„é¡µé¢ï¼Œç„¶åå¯ä»¥çœ‹ä¸€ä¸‹Vueæ˜¯æ€ä¹ˆå¤„ç†è¿™ä¸€å—çš„é€»è¾‘ã€‚</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isObject</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isPromise</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// () => Promise</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isUndef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>resolved<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      res<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token comment\">// å¦‚æœcomponentæ˜¯promiseå¯¹è±¡</span>\n  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isPromise</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>component<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//åŠ è½½å¼‚æ­¥ç»„ä»¶æˆåŠŸçš„è¯è¿›å…¥resolveå›è°ƒï¼Œå¤±è´¥çš„è¯è¿›å…¥rejectå›è°ƒ</span>\n    res<span class=\"token punctuation\">.</span>component<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// å¦‚æœå®šä¹‰äº†error</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isDef</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">// è°ƒç”¨ensureCtoræ–¹æ³•ä¼ å…¥é”™è¯¯ç»„ä»¶å’ŒåŸºæœ¬é…ç½®æ¥åˆ›å»ºç»„ä»¶å¹¶æ·»åŠ ç¼“å­˜</span>\n      factory<span class=\"token punctuation\">.</span>errorComp <span class=\"token operator\">=</span> <span class=\"token function\">ensureCtor</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">,</span> baseCtor<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token comment\">// å¦‚æœå®šä¹‰äº†loading</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isDef</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>loading<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">// åˆ›å»ºloadingç»„ä»¶å¹¶åŠ å…¥ç¼“å­˜</span>\n      factory<span class=\"token punctuation\">.</span>loadingComp <span class=\"token operator\">=</span> <span class=\"token function\">ensureCtor</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>loading<span class=\"token punctuation\">,</span> baseCtor<span class=\"token punctuation\">)</span>\n      <span class=\"token comment\">// å¦‚æœæ²¡æœ‰è®¾ç½®delayçš„æ—¶é—´ï¼Œç›´æ¥è®¾ç½®loadingçš„çŠ¶æ€ä¸ºtrue</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>delay <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        factory<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n      <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// å¦‚æœæœ‰delayçš„è¯ï¼Œå°±ç”¨setTimeoutå‡½æ•°ä½¿å¾—åœ¨å¤šå°‘æ—¶é—´åè§¦å‘å¼ºåˆ¶æ›´æ–°æ¥æ¸²æŸ“loadingç»„ä»¶</span>\n        timerLoading <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n          timerLoading <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isUndef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>resolved<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">isUndef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            factory<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n            <span class=\"token comment\">// å¼ºåˆ¶æ›´æ–°å¹¶ä¼ å…¥å¹¶æœªæ¸²æŸ“å®Œæˆçš„å‚æ•°</span>\n            <span class=\"token function\">forceRender</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">.</span>delay <span class=\"token operator\">||</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token comment\">// å¦‚æœå®šä¹‰äº†timeout</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isDef</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      timerTimeout <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        timerTimeout <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isUndef</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">.</span>resolved<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n          <span class=\"token comment\">// è¿›å…¥åˆ°rejectå›è°ƒå‡½æ•° </span>\n          <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">'timeout ('</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>timeout<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'ms)'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">.</span>timeout<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","feature":true,"text":"é¦–å…ˆè¯·å‚è€ƒVueå¼‚æ­¥ç»„ä»¶çš„ç”¨æ³• 1.ç”¨ä¾‹åˆ†ææ­¤å¤„å†™ä¸€ä¸ªVueå¼‚æ­¥ç»„ä»¶çš„ä¾‹å­ï¼š Vue.component('async-example', function (resolve, reject) &#123; setTimeout(function () &#123; // å‘ `...","link":"","photos":[],"count_time":{"symbolsCount":"6.8k","symbolsTime":"6 mins."},"categories":[{"name":"Vue","slug":"Vue","count":3,"path":"api/categories/Vue.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E7%94%A8%E4%BE%8B%E5%88%86%E6%9E%90\"><span class=\"toc-text\">1.ç”¨ä¾‹åˆ†æ</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E5%85%B7%E4%BD%93%E9%80%BB%E8%BE%91%E8%A7%A3%E9%87%8A\"><span class=\"toc-text\">2.å…·ä½“é€»è¾‘è§£é‡Š</span></a></li></ol>","author":{"name":"åŠ¨ç‰©å›­å›­é•¿","slug":"blog-author","avatar":"https://images.unsplash.com/photo-1616207787467-20787d4cbf8a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjEzfHxhbmltYWwlMjBsb3ZlfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60","link":"https://github.com/SkylarShuang","description":"å–œæ¬¢ä»£ç çš„åŠ¨ç‰©å›­å›­é•¿ğŸ’","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"Vue3è°ƒè¯•ç¯å¢ƒå‡†å¤‡","uid":"88c311ebad772fb24ed33c5c5f934d02","slug":"Vue3è°ƒè¯•ç¯å¢ƒå‡†å¤‡","date":"2022-04-01T12:14:15.209Z","updated":"2022-04-02T09:36:38.546Z","comments":true,"path":"api/articles/Vue3è°ƒè¯•ç¯å¢ƒå‡†å¤‡.json","keywords":null,"cover":"https://images.unsplash.com/photo-1573865526739-10659fec78a5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8YW5pbWFsJTIwbG92ZXxlbnwwfHwwfHw%3D&auto=format&fit=crop&w=500&q=60","text":"Vue3è°ƒè¯•ç¯å¢ƒå‡†å¤‡1.å…‹éš†Vue3çš„ä»£ç git clone https://github.com/vuejs/vue-next.git 2.å®‰è£…ä¾èµ–å’Œæ‰“åŒ…yarn yarn dev yarn devå¯åŠ¨rollupå°†ä»£ç æ‰“åŒ…ç”Ÿæˆä¸ºvue.global.jsï¼Œæ–‡ä»¶ä½ç½®å¦‚å›¾æ‰€ç¤º !...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"Vue","slug":"Vue","count":3,"path":"api/categories/Vue.json"}],"tags":[],"author":{"name":"åŠ¨ç‰©å›­å›­é•¿","slug":"blog-author","avatar":"https://images.unsplash.com/photo-1616207787467-20787d4cbf8a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjEzfHxhbmltYWwlMjBsb3ZlfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60","link":"https://github.com/SkylarShuang","description":"å–œæ¬¢ä»£ç çš„åŠ¨ç‰©å›­å›­é•¿ğŸ’","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}